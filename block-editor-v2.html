<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoTrade AI - ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Hiragino Sans", "Noto Sans JP", sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #667eea;
        }

        .logo-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: white;
        }

        .nav-tabs {
            display: flex;
            gap: 5px;
        }

        .nav-tab {
            padding: 10px 20px;
            background: none;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            color: #666;
            transition: all 0.2s;
            text-decoration: none;
        }

        .nav-tab:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
        }

        .nav-tab.active {
            background: #667eea;
            color: white;
        }

        /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        /* ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ãƒ˜ãƒƒãƒ€ãƒ¼ */
        .wizard-header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .wizard-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .wizard-subtitle {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 30px;
        }

        /* ã‚¹ãƒ†ãƒƒãƒ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ */
        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
        }

        .step {
            display: flex;
            align-items: center;
            position: relative;
        }

        .step:not(:last-child)::after {
            content: '';
            width: 80px;
            height: 2px;
            background: rgba(255, 255, 255, 0.3);
            margin: 0 20px;
        }

        .step.active:not(:last-child)::after {
            background: white;
        }

        .step-circle {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
            transition: all 0.3s;
            position: relative;
        }

        .step.active .step-circle {
            background: white;
            color: #667eea;
            transform: scale(1.1);
        }

        .step.completed .step-circle {
            background: #28a745;
            border-color: #28a745;
        }

        .step-label {
            position: absolute;
            top: 60px;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
        }

        .step.active .step-label {
            color: white;
            font-weight: 600;
        }

        /* ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
        .wizard-content {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            overflow: hidden;
            min-height: 600px;
            display: grid;
            grid-template-columns: 1fr;
        }

        .wizard-step {
            display: none;
            padding: 40px;
            animation: fadeIn 0.5s ease;
        }

        .wizard-step.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ */
        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .template-card {
            background: #f8f9fa;
            border: 3px solid transparent;
            border-radius: 16px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .template-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .template-card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }

        .template-card:hover::before {
            transform: scaleX(1);
        }

        .template-card.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .template-card.selected::before {
            transform: scaleX(1);
        }

        .template-icon {
            font-size: 48px;
            margin-bottom: 15px;
            display: block;
        }

        .template-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 10px;
            color: #333;
        }

        .template-description {
            color: #666;
            margin-bottom: 15px;
        }

        .template-features {
            list-style: none;
            text-align: left;
            font-size: 14px;
            color: #555;
        }

        .template-features li {
            margin-bottom: 5px;
            position: relative;
            padding-left: 20px;
        }

        .template-features li::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            color: #28a745;
            font-weight: bold;
        }

        /* ã‚¹ãƒ†ãƒƒãƒ—2: æ¡ä»¶è¨­å®š */
        .condition-builder {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
            min-height: 500px;
        }

        .condition-workspace {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 30px;
            position: relative;
        }

        .workspace-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
        }

        .condition-flow {
            position: relative;
        }

        .flow-step {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s;
            position: relative;
        }

        .flow-step::after {
            content: 'â†“';
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 20px;
            color: #ccc;
        }

        .flow-step:last-child::after {
            display: none;
        }

        .flow-step.active {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .flow-step-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 15px;
        }

        .flow-step-title {
            font-weight: 600;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .flow-step-number {
            background: #667eea;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
        }

        /* ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ãƒ‘ãƒãƒ« */
        .parameter-panel {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .parameter-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
        }

        .parameter-group {
            margin-bottom: 25px;
        }

        .parameter-label {
            font-size: 14px;
            font-weight: 600;
            color: #555;
            margin-bottom: 8px;
            display: block;
        }

        .parameter-hint {
            font-size: 12px;
            color: #888;
            margin-bottom: 10px;
        }

        .parameter-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.2s;
            background: white;
        }

        .parameter-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 10px;
        }

        .slider {
            flex: 1;
            -webkit-appearance: none;
            height: 6px;
            border-radius: 3px;
            background: #e0e0e0;
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid white;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        .slider-value {
            min-width: 60px;
            text-align: center;
            font-weight: 600;
            color: #667eea;
            background: #f0f4ff;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 14px;
        }

        /* ã‚¹ãƒ†ãƒƒãƒ—3: ãƒªã‚¹ã‚¯ç®¡ç† */
        .risk-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .risk-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .risk-card:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .risk-icon {
            font-size: 36px;
            margin-bottom: 15px;
            display: block;
        }

        .risk-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
        }

        .risk-description {
            color: #666;
            margin-bottom: 20px;
        }

        /* ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ç¢ºèª */
        .preview-container {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
        }

        .strategy-preview {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 30px;
        }

        .preview-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
        }

        .preview-flow {
            list-style: none;
        }

        .preview-step {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px 20px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s;
        }

        .preview-step:hover {
            border-color: #667eea;
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.1);
        }

        .preview-step-icon {
            width: 36px;
            height: 36px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }

        .preview-step-content {
            flex: 1;
        }

        .preview-step-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 2px;
        }

        .preview-step-description {
            font-size: 14px;
            color: #666;
        }

        /* ã‚µãƒãƒªãƒ¼ãƒ‘ãƒãƒ« */
        .summary-panel {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .summary-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .summary-label {
            color: #666;
            font-size: 14px;
        }

        .summary-value {
            font-weight: 600;
            color: #333;
        }

        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */
        .wizard-navigation {
            padding: 30px 40px;
            background: #f8f9fa;
            border-top: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-secondary {
            background: white;
            color: #666;
            border: 2px solid #e0e0e0;
        }

        .btn-secondary:hover {
            background: #f8f9fa;
            border-color: #ccc;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */
        .progress-container {
            margin: 20px 0;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 3px;
            transition: width 0.5s ease;
            width: 25%;
        }

        .progress-text {
            text-align: center;
            margin-top: 10px;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }

        /* ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #333;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            font-size: 14px;
            display: none;
            animation: slideInRight 0.3s ease;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .toast.success {
            background: #28a745;
        }

        .toast.error {
            background: #dc3545;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– */
        @media (max-width: 1024px) {
            .condition-builder,
            .preview-container {
                grid-template-columns: 1fr;
            }
            
            .template-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .wizard-content {
                margin: 0 10px;
                border-radius: 16px;
            }
            
            .wizard-step {
                padding: 20px;
            }
            
            .step-indicator {
                overflow-x: auto;
                padding: 0 20px;
            }
            
            .step:not(:last-child)::after {
                width: 40px;
                margin: 0 10px;
            }
            
            .nav-tabs {
                flex-wrap: wrap;
                gap: 2px;
            }
            
            .nav-tab {
                font-size: 12px;
                padding: 8px 12px;
            }
        }

        /* ãƒ˜ãƒ«ãƒ—ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ— */
        .help-tooltip {
            position: relative;
            display: inline-block;
            margin-left: 5px;
            cursor: help;
        }

        .help-icon {
            width: 18px;
            height: 18px;
            background: #ccc;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .help-content {
            visibility: hidden;
            width: 200px;
            background-color: #333;
            color: white;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            line-height: 1.4;
        }

        .help-content::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }

        .help-tooltip:hover .help-content {
            visibility: visible;
            opacity: 1;
        }

        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ */
        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        .slide-up {
            animation: slideUp 0.5s ease forwards;
        }

        @keyframes slideUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* ã‚«ã‚¹ã‚¿ãƒ ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ */
        .custom-checkbox {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
            cursor: pointer;
        }

        .custom-checkbox input[type="checkbox"] {
            display: none;
        }

        .checkbox-custom {
            width: 20px;
            height: 20px;
            border: 2px solid #ccc;
            border-radius: 4px;
            position: relative;
            transition: all 0.2s;
        }

        .custom-checkbox input[type="checkbox"]:checked + .checkbox-custom {
            background: #667eea;
            border-color: #667eea;
        }

        .custom-checkbox input[type="checkbox"]:checked + .checkbox-custom::after {
            content: 'âœ“';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .checkbox-label {
            font-size: 14px;
            color: #333;
        }
    </style>
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">ğŸ¤–</div>
                <span>AutoTrade AI</span>
            </div>
            <nav class="nav-tabs">
                <a href="block-editor.html" class="nav-tab">ãƒ–ãƒ­ãƒƒã‚¯ç‰ˆ</a>
                <a href="block-editor-v2.html" class="nav-tab active">ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ç‰ˆ</a>
                <a href="api-settings.html" class="nav-tab">APIè¨­å®š</a>
                <a href="#" class="nav-tab">å–å¼•å±¥æ­´</a>
                <a href="#" class="nav-tab">è¨­å®š</a>
            </nav>
        </div>
    </header>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ -->
    <div class="main-container">
        <!-- ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <div class="wizard-header">
            <h1 class="wizard-title">ğŸš€ ã‚¹ãƒãƒ¼ãƒˆæˆ¦ç•¥ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰</h1>
            <p class="wizard-subtitle">4ã¤ã®ç°¡å˜ãªã‚¹ãƒ†ãƒƒãƒ—ã§ã€ã‚ãªãŸã ã‘ã®è‡ªå‹•å–å¼•æˆ¦ç•¥ã‚’ä½œæˆã—ã¾ã—ã‚‡ã†</p>
            
            <!-- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ -->
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">ã‚¹ãƒ†ãƒƒãƒ— 1 / 4</div>
            </div>
        </div>

        <!-- ã‚¹ãƒ†ãƒƒãƒ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ -->
        <div class="step-indicator">
            <div class="step active" data-step="1">
                <div class="step-circle">1</div>
                <div class="step-label">æˆ¦ç•¥é¸æŠ</div>
            </div>
            <div class="step" data-step="2">
                <div class="step-circle">2</div>
                <div class="step-label">æ¡ä»¶è¨­å®š</div>
            </div>
            <div class="step" data-step="3">
                <div class="step-circle">3</div>
                <div class="step-label">ãƒªã‚¹ã‚¯ç®¡ç†</div>
            </div>
            <div class="step" data-step="4">
                <div class="step-circle">4</div>
                <div class="step-label">ç¢ºèªãƒ»ä¿å­˜</div>
            </div>
        </div>

        <!-- ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <div class="wizard-content">
            <!-- ã‚¹ãƒ†ãƒƒãƒ—1: æˆ¦ç•¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠ -->
            <div class="wizard-step active" id="step1">
                <h2 style="text-align: center; margin-bottom: 30px; color: #333; font-size: 24px;">ğŸ¯ æˆ¦ç•¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ</h2>
                <p style="text-align: center; color: #666; margin-bottom: 40px;">ã‚ãªãŸã®æŠ•è³‡ã‚¹ã‚¿ã‚¤ãƒ«ã«æœ€ã‚‚è¿‘ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸ã‚“ã§ãã ã•ã„ã€‚å¾Œã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚</p>
                
                <div class="template-grid">
                    <div class="template-card" data-template="sentiment">
                        <span class="template-icon">ğŸ˜Š</span>
                        <h3 class="template-title">ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆé‡è¦–å‹</h3>
                        <p class="template-description">å¸‚å ´ã®æ„Ÿæƒ…ã‚„ãƒ‹ãƒ¥ãƒ¼ã‚¹ã«åŸºã¥ã„ã¦å–å¼•ã‚’è¡Œã†æˆ¦ç•¥ã§ã™ã€‚</p>
                        <ul class="template-features">
                            <li>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‹ãƒ¥ãƒ¼ã‚¹åˆ†æ</li>
                            <li>SNSã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆç›£è¦–</li>
                            <li>ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œå‡ºæ©Ÿèƒ½</li>
                            <li>æ„Ÿæƒ…æŒ‡æ•°ãƒ™ãƒ¼ã‚¹ã®åˆ¤å®š</li>
                        </ul>
                    </div>
                    
                    <div class="template-card" data-template="technical">
                        <span class="template-icon">ğŸ“ˆ</span>
                        <h3 class="template-title">ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æå‹</h3>
                        <p class="template-description">ä¾¡æ ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚„ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™ã‚’é‡è¦–ã—ãŸæˆ¦ç•¥ã§ã™ã€‚</p>
                        <ul class="template-features">
                            <li>RSIãƒ»MACDæŒ‡æ¨™</li>
                            <li>ç§»å‹•å¹³å‡ç·šã‚¯ãƒ­ã‚¹</li>
                            <li>ä¾¡æ ¼ãƒ–ãƒ¬ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆ</li>
                            <li>ãƒœãƒªãƒ³ã‚¸ãƒ£ãƒ¼ãƒãƒ³ãƒ‰</li>
                        </ul>
                    </div>
                    
                    <div class="template-card" data-template="hybrid">
                        <span class="template-icon">âš–ï¸</span>
                        <h3 class="template-title">ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰å‹</h3>
                        <p class="template-description">ãƒ•ã‚¡ãƒ³ãƒ€ãƒ¡ãƒ³ã‚¿ãƒ«ã¨ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ã‚’çµ„ã¿åˆã‚ã›ãŸæˆ¦ç•¥ã§ã™ã€‚</p>
                        <ul class="template-features">
                            <li>å¤šè§’çš„ãªåˆ†æã‚¢ãƒ—ãƒ­ãƒ¼ãƒ</li>
                            <li>ãƒªã‚¹ã‚¯åˆ†æ•£åŠ¹æœ</li>
                            <li>æŸ”è»Ÿãªæ¡ä»¶è¨­å®š</li>
                            <li>ãƒãƒ©ãƒ³ã‚¹é‡è¦–ã®è¨­è¨ˆ</li>
                        </ul>
                    </div>
                    
                    <div class="template-card" data-template="conservative">
                        <span class="template-icon">ğŸ›¡ï¸</span>
                        <h3 class="template-title">ä¿å®ˆçš„ãƒ»å®‰å…¨å‹</h3>
                        <p class="template-description">ãƒªã‚¹ã‚¯ã‚’æœ€å°é™ã«æŠ‘ãˆãŸå®‰å…¨æ€§é‡è¦–ã®æˆ¦ç•¥ã§ã™ã€‚</p>
                        <ul class="template-features">
                            <li>ä½ãƒªã‚¹ã‚¯ãƒ»ä½ãƒªã‚¿ãƒ¼ãƒ³</li>
                            <li>å³æ ¼ãªæåˆ‡ã‚Šè¨­å®š</li>
                            <li>å°‘é¡ã‹ã‚‰ã®å–å¼•</li>
                            <li>é•·æœŸå®‰å®šæ€§é‡è¦–</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- ã‚¹ãƒ†ãƒƒãƒ—2: æ¡ä»¶è¨­å®š -->
            <div class="wizard-step" id="step2">
                <h2 style="text-align: center; margin-bottom: 30px; color: #333; font-size: 24px;">âš™ï¸ å–å¼•æ¡ä»¶ã®è¨­å®š</h2>
                
                <div class="condition-builder">
                    <div class="condition-workspace">
                        <h3 class="workspace-title">ğŸ”„ æˆ¦ç•¥ãƒ•ãƒ­ãƒ¼</h3>
                        <div class="condition-flow">
                            <div class="flow-step active">
                                <div class="flow-step-header">
                                    <div class="flow-step-title">
                                        <div class="flow-step-number">1</div>
                                        <span>ç›£è¦–å¯¾è±¡ã®è¨­å®š</span>
                                    </div>
                                </div>
                                <p style="color: #666; font-size: 14px;">ã©ã®é€šè²¨ãƒšã‚¢ã‚’ç›£è¦–ã™ã‚‹ã‹ã‚’é¸æŠã—ã¾ã™</p>
                                <div style="margin-top: 15px; padding: 15px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #667eea;">
                                    <strong>é¸æŠä¸­:</strong> ãƒ“ãƒƒãƒˆã‚³ã‚¤ãƒ³ (BTC/JPY)
                                </div>
                            </div>
                            
                            <div class="flow-step">
                                <div class="flow-step-header">
                                    <div class="flow-step-title">
                                        <div class="flow-step-number">2</div>
                                        <span>ã‚¨ãƒ³ãƒˆãƒªãƒ¼æ¡ä»¶</span>
                                    </div>
                                </div>
                                <p style="color: #666; font-size: 14px;">è²·ã„æ³¨æ–‡ã‚’å‡ºã™ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’è¨­å®šã—ã¾ã™</p>
                                <div style="margin-top: 15px; padding: 15px; background: #f0fdf4; border-radius: 8px; border-left: 4px solid #22c55e;">
                                    <strong>æ¡ä»¶:</strong> ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢ â‰¥ 75 <br>
                                    <strong>è¿½åŠ æ¡ä»¶:</strong> å¥½ææ–™ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®æ¤œå‡º
                                </div>
                            </div>
                            
                            <div class="flow-step">
                                <div class="flow-step-header">
                                    <div class="flow-step-title">
                                        <div class="flow-step-number">3</div>
                                        <span>ãƒªã‚¹ã‚¯ç®¡ç†</span>
                                    </div>
                                </div>
                                <p style="color: #666; font-size: 14px;">æå¤±ã‚’é™å®šã™ã‚‹å®‰å…¨è£…ç½®ã‚’è¨­å®šã—ã¾ã™</p>
                                <div style="margin-top: 15px; padding: 15px; background: #fef2f2; border-radius: 8px; border-left: 4px solid #ef4444;">
                                    <strong>æåˆ‡ã‚Š:</strong> -5% <br>
                                    <strong>åˆ©ç¢º:</strong> +15%
                                </div>
                            </div>
                            
                            <div class="flow-step">
                                <div class="flow-step-header">
                                    <div class="flow-step-title">
                                        <div class="flow-step-number">4</div>
                                        <span>å®Ÿè¡Œã‚¢ã‚¯ã‚·ãƒ§ãƒ³</span>
                                    </div>
                                </div>
                                <p style="color: #666; font-size: 14px;">æ¡ä»¶ãŒæº€ãŸã•ã‚ŒãŸæ™‚ã®å‹•ä½œã‚’è¨­å®šã—ã¾ã™</p>
                                <div style="margin-top: 15px; padding: 15px; background: #f0f4ff; border-radius: 8px; border-left: 4px solid #667eea;">
                                    <strong>ã‚¢ã‚¯ã‚·ãƒ§ãƒ³:</strong> æˆè¡Œè²·ã„æ³¨æ–‡ <br>
                                    <strong>æŠ•è³‡é¡:</strong> è³‡é‡‘ã®10%
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="parameter-panel">
                        <h3 class="parameter-title">ğŸ›ï¸ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼èª¿æ•´</h3>
                        
                        <div class="parameter-group">
                            <label class="parameter-label">
                                ç›£è¦–å¯¾è±¡é€šè²¨
                                <span class="help-tooltip">
                                    <span class="help-icon">?</span>
                                    <span class="help-content">å–å¼•ã‚’è¡Œã†æš—å·é€šè²¨ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚åˆå¿ƒè€…ã«ã¯ãƒ“ãƒƒãƒˆã‚³ã‚¤ãƒ³ãŒãŠã™ã™ã‚ã§ã™ã€‚</span>
                                </span>
                            </label>
                            <select class="parameter-control" id="cryptoCurrency">
                                <option value="BTC">ãƒ“ãƒƒãƒˆã‚³ã‚¤ãƒ³ (BTC/JPY)</option>
                                <option value="ETH">ã‚¤ãƒ¼ã‚µãƒªã‚¢ãƒ  (ETH/JPY)</option>
                                <option value="XRP">ãƒªãƒƒãƒ—ãƒ« (XRP/JPY)</option>
                                <option value="LTC">ãƒ©ã‚¤ãƒˆã‚³ã‚¤ãƒ³ (LTC/JPY)</option>
                            </select>
                        </div>
                        
                        <div class="parameter-group">
                            <label class="parameter-label">
                                ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆé–¾å€¤
                                <span class="help-tooltip">
                                    <span class="help-icon">?</span>
                                    <span class="help-content">å¸‚å ´ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆãŒã“ã®å€¤ä»¥ä¸Šã«ãªã£ãŸã‚‰è²·ã„æ³¨æ–‡ã‚’ç™ºå‹•ã—ã¾ã™ã€‚é«˜ã„ã»ã©æ…é‡ã«ãªã‚Šã¾ã™ã€‚</span>
                                </span>
                            </label>
                            <div class="slider-container">
                                <input type="range" class="slider" min="0" max="100" value="75" id="sentimentThreshold" oninput="updateSliderValue(this, 'sentimentValue')">
                                <span class="slider-value" id="sentimentValue">75</span>
                            </div>
                        </div>
                        
                        <div class="parameter-group">
                            <label class="parameter-label">ç›£è¦–ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰</label>
                            <div class="parameter-hint">ãƒ‹ãƒ¥ãƒ¼ã‚¹ã§æ¤œå‡ºã—ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§å…¥åŠ›</div>
                            <input type="text" class="parameter-control" placeholder="ä¾‹: å¥½æ±ºç®—, ææº, è¦åˆ¶ç·©å’Œ" value="å¥½æ±ºç®—, æ¥­ç¸¾å‘ä¸Š, ææº">
                        </div>
                        
                        <div class="parameter-group">
                            <label class="parameter-label">
                                æŠ•è³‡é‡‘é¡ï¼ˆè³‡é‡‘ã«å¯¾ã™ã‚‹å‰²åˆï¼‰
                                <span class="help-tooltip">
                                    <span class="help-icon">?</span>
                                    <span class="help-content">1å›ã®å–å¼•ã§ä½¿ç”¨ã™ã‚‹è³‡é‡‘ã®å‰²åˆã§ã™ã€‚10%ä»¥ä¸‹ã‚’æ¨å¥¨ã—ã¾ã™ã€‚</span>
                                </span>
                            </label>
                            <div class="slider-container">
                                <input type="range" class="slider" min="1" max="30" value="10" id="investmentRatio" oninput="updateSliderValue(this, 'investmentValue', '%')">
                                <span class="slider-value" id="investmentValue">10%</span>
                            </div>
                        </div>
                        
                        <div class="parameter-group">
                            <label class="parameter-label">æ›´æ–°é »åº¦</label>
                            <select class="parameter-control">
                                <option value="realtime">ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ </option>
                                <option value="1min">1åˆ†ã”ã¨</option>
                                <option value="5min">5åˆ†ã”ã¨</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ã‚¹ãƒ†ãƒƒãƒ—3: ãƒªã‚¹ã‚¯ç®¡ç† -->
            <div class="wizard-step" id="step3">
                <h2 style="text-align: center; margin-bottom: 30px; color: #333; font-size: 24px;">ğŸ›¡ï¸ ãƒªã‚¹ã‚¯ç®¡ç†ã®è¨­å®š</h2>
                <p style="text-align: center; color: #666; margin-bottom: 40px;">æŠ•è³‡ã«ã¯ãƒªã‚¹ã‚¯ãŒä¼´ã„ã¾ã™ã€‚é©åˆ‡ãªãƒªã‚¹ã‚¯ç®¡ç†è¨­å®šã§è³‡ç”£ã‚’å®ˆã‚Šã¾ã—ã‚‡ã†ã€‚</p>
                
                <div class="risk-grid">
                    <div class="risk-card">
                        <span class="risk-icon">ğŸ“‰</span>
                        <h3 class="risk-title">æåˆ‡ã‚Šè¨­å®š</h3>
                        <p class="risk-description">æå¤±ãŒä¸€å®šé¡ã«é”ã—ãŸã‚‰è‡ªå‹•çš„ã«å£²å´ã—ã€ã•ã‚‰ãªã‚‹æå¤±ã‚’é˜²ãã¾ã™ã€‚</p>
                        
                        <div class="parameter-group">
                            <label class="parameter-label">
                                æåˆ‡ã‚Šãƒ©ã‚¤ãƒ³
                                <span class="help-tooltip">
                                    <span class="help-icon">?</span>
                                    <span class="help-content">ã‚¨ãƒ³ãƒˆãƒªãƒ¼ä¾¡æ ¼ã‹ã‚‰ã“ã®å‰²åˆä¸‹è½ã—ãŸã‚‰è‡ªå‹•å£²å´ã—ã¾ã™ã€‚5-10%ç¨‹åº¦ãŒä¸€èˆ¬çš„ã§ã™ã€‚</span>
                                </span>
                            </label>
                            <div class="slider-container">
                                <input type="range" class="slider" min="1" max="20" value="5" id="stopLoss" oninput="updateSliderValue(this, 'stopLossValue', '%', '-')">
                                <span class="slider-value" id="stopLossValue">-5%</span>
                            </div>
                        </div>
                        
                        <label class="custom-checkbox">
                            <input type="checkbox" checked>
                            <span class="checkbox-custom"></span>
                            <span class="checkbox-label">æåˆ‡ã‚Šæ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã™ã‚‹</span>
                        </label>
                    </div>
                    
                    <div class="risk-card">
                        <span class="risk-icon">ğŸ“ˆ</span>
                        <h3 class="risk-title">åˆ©ç›Šç¢ºå®šè¨­å®š</h3>
                        <p class="risk-description">åˆ©ç›ŠãŒä¸€å®šé¡ã«é”ã—ãŸã‚‰è‡ªå‹•çš„ã«å£²å´ã—ã€ç¢ºå®Ÿã«åˆ©ç›Šã‚’ç¢ºä¿ã—ã¾ã™ã€‚</p>
                        
                        <div class="parameter-group">
                            <label class="parameter-label">
                                åˆ©ç¢ºãƒ©ã‚¤ãƒ³
                                <span class="help-tooltip">
                                    <span class="help-icon">?</span>
                                    <span class="help-content">ã‚¨ãƒ³ãƒˆãƒªãƒ¼ä¾¡æ ¼ã‹ã‚‰ã“ã®å‰²åˆä¸Šæ˜‡ã—ãŸã‚‰è‡ªå‹•å£²å´ã—ã¾ã™ã€‚10-20%ç¨‹åº¦ãŒä¸€èˆ¬çš„ã§ã™ã€‚</span>
                                </span>
                            </label>
                            <div class="slider-container">
                                <input type="range" class="slider" min="5" max="50" value="15" id="takeProfit" oninput="updateSliderValue(this, 'takeProfitValue', '%', '+')">
                                <span class="slider-value" id="takeProfitValue">+15%</span>
                            </div>
                        </div>
                        
                        <label class="custom-checkbox">
                            <input type="checkbox" checked>
                            <span class="checkbox-custom"></span>
                            <span class="checkbox-label">åˆ©ç¢ºæ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã™ã‚‹</span>
                        </label>
                    </div>
                    
                    <div class="risk-card">
                        <span class="risk-icon">â°</span>
                        <h3 class="risk-title">æ™‚é–“åˆ¶é™è¨­å®š</h3>
                        <p class="risk-description">ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚’ä¿æœ‰ã™ã‚‹æœ€å¤§æ™‚é–“ã‚’è¨­å®šã—ã€å¡©æ¼¬ã‘ã‚’é˜²ãã¾ã™ã€‚</p>
                        
                        <div class="parameter-group">
                            <label class="parameter-label">æœ€å¤§ä¿æœ‰æ™‚é–“</label>
                            <select class="parameter-control">
                                <option value="1h">1æ™‚é–“</option>
                                <option value="6h">6æ™‚é–“</option>
                                <option value="24h" selected>24æ™‚é–“</option>
                                <option value="1w">1é€±é–“</option>
                                <option value="unlimited">åˆ¶é™ãªã—</option>
                            </select>
                        </div>
                        
                        <label class="custom-checkbox">
                            <input type="checkbox">
                            <span class="checkbox-custom"></span>
                            <span class="checkbox-label">æ™‚é–“åˆ¶é™ã‚’æœ‰åŠ¹ã«ã™ã‚‹</span>
                        </label>
                    </div>
                    
                    <div class="risk-card">
                        <span class="risk-icon">ğŸ’°</span>
                        <h3 class="risk-title">è³‡é‡‘ç®¡ç†</h3>
                        <p class="risk-description">1æ—¥ã‚„1ãƒ¶æœˆã®å–å¼•å›æ•°ã‚„æå¤±é¡ã®ä¸Šé™ã‚’è¨­å®šã—ã¾ã™ã€‚</p>
                        
                        <div class="parameter-group">
                            <label class="parameter-label">1æ—¥ã®æœ€å¤§å–å¼•å›æ•°</label>
                            <input type="number" class="parameter-control" min="1" max="20" value="3">
                        </div>
                        
                        <div class="parameter-group">
                            <label class="parameter-label">1æ—¥ã®æœ€å¤§æå¤±é¡</label>
                            <input type="number" class="parameter-control" placeholder="ä¾‹: 10000" value="50000">
                        </div>
                        
                        <label class="custom-checkbox">
                            <input type="checkbox" checked>
                            <span class="checkbox-custom"></span>
                            <span class="checkbox-label">è³‡é‡‘ç®¡ç†åˆ¶é™ã‚’æœ‰åŠ¹ã«ã™ã‚‹</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ç¢ºèª -->
            <div class="wizard-step" id="step4">
                <h2 style="text-align: center; margin-bottom: 30px; color: #333; font-size: 24px;">âœ… æˆ¦ç•¥ã®ç¢ºèªã¨ä¿å­˜</h2>
                
                <div class="preview-container">
                    <div class="strategy-preview">
                        <h3 class="preview-title">ğŸ“‹ å®Ÿè¡Œãƒ•ãƒ­ãƒ¼ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h3>
                        <p style="color: #666; margin-bottom: 25px;">è¨­å®šã—ãŸæ¡ä»¶ã«åŸºã¥ãè‡ªå‹•å–å¼•ã®æµã‚Œã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
                        
                        <ul class="preview-flow">
                            <li class="preview-step">
                                <div class="preview-step-icon">ğŸ‘ï¸</div>
                                <div class="preview-step-content">
                                    <div class="preview-step-title">å¸‚å ´ç›£è¦–é–‹å§‹</div>
                                    <div class="preview-step-description">ãƒ“ãƒƒãƒˆã‚³ã‚¤ãƒ³å¸‚å ´ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ç›£è¦–é–‹å§‹</div>
                                </div>
                            </li>
                            <li class="preview-step">
                                <div class="preview-step-icon">ğŸ“°</div>
                                <div class="preview-step-content">
                                    <div class="preview-step-title">ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆåˆ†æ</div>
                                    <div class="preview-step-description">å¥½ææ–™ãƒ‹ãƒ¥ãƒ¼ã‚¹æ¤œå‡ºã¨ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã‚¹ã‚³ã‚¢75ä»¥ä¸Šã‚’ç¢ºèª</div>
                                </div>
                            </li>
                            <li class="preview-step">
                                <div class="preview-step-icon">ğŸ”</div>
                                <div class="preview-step-content">
                                    <div class="preview-step-title">æ¡ä»¶åˆ¤å®š</div>
                                    <div class="preview-step-description">å…¨ã¦ã®è²·ã„æ¡ä»¶ãŒæº€ãŸã•ã‚Œã¦ã„ã‚‹ã‹ã‚’ç¢ºèª</div>
                                </div>
                            </li>
                            <li class="preview-step">
                                <div class="preview-step-icon">ğŸ’¸</div>
                                <div class="preview-step-content">
                                    <div class="preview-step-title">è‡ªå‹•è²·ã„æ³¨æ–‡å®Ÿè¡Œ</div>
                                    <div class="preview-step-description">è³‡é‡‘ã®10%ã§æˆè¡Œè²·ã„æ³¨æ–‡ã‚’å®Ÿè¡Œ</div>
                                </div>
                            </li>
                            <li class="preview-step">
                                <div class="preview-step-icon">ğŸ›¡ï¸</div>
                                <div class="preview-step-content">
                                    <div class="preview-step-title">ãƒªã‚¹ã‚¯ç®¡ç†é–‹å§‹</div>
                                    <div class="preview-step-description">æåˆ‡ã‚Š(-5%)ã¨åˆ©ç¢º(+15%)ã®ç›£è¦–ã‚’é–‹å§‹</div>
                                </div>
                            </li>
                            <li class="preview-step">
                                <div class="preview-step-icon">ğŸ“Š</div>
                                <div class="preview-step-content">
                                    <div class="preview-step-title">çµæœé€šçŸ¥</div>
                                    <div class="preview-step-description">å–å¼•å®Œäº†æ™‚ã«ãƒ¡ãƒ¼ãƒ«ãƒ»ã‚¢ãƒ—ãƒªã§çµæœã‚’ãŠçŸ¥ã‚‰ã›</div>
                                </div>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="summary-panel">
                        <h3 class="summary-title">ğŸ“Š æˆ¦ç•¥ã‚µãƒãƒªãƒ¼</h3>
                        
                        <div class="summary-item">
                            <span class="summary-label">æˆ¦ç•¥å</span>
                            <span class="summary-value">ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆé‡è¦–å‹</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">ç›£è¦–å¯¾è±¡</span>
                            <span class="summary-value">ãƒ“ãƒƒãƒˆã‚³ã‚¤ãƒ³ (BTC/JPY)</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">ã‚¨ãƒ³ãƒˆãƒªãƒ¼æ¡ä»¶</span>
                            <span class="summary-value">ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆ â‰¥ 75</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">æŠ•è³‡é‡‘é¡</span>
                            <span class="summary-value">è³‡é‡‘ã®10%</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">æåˆ‡ã‚Šãƒ©ã‚¤ãƒ³</span>
                            <span class="summary-value">-5%</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">åˆ©ç¢ºãƒ©ã‚¤ãƒ³</span>
                            <span class="summary-value">+15%</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">æœ€å¤§å–å¼•å›æ•°/æ—¥</span>
                            <span class="summary-value">3å›</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">ãƒªã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«</span>
                            <span class="summary-value" style="color: #f59e0b;">ä¸­ç¨‹åº¦</span>
                        </div>
                        
                        <div style="margin-top: 25px; padding: 20px; background: #f0f9ff; border-radius: 8px; border-left: 4px solid #0ea5e9;">
                            <h4 style="color: #0369a1; margin-bottom: 10px;">ğŸ’¡ æ¨å®šãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</h4>
                            <div style="font-size: 14px; color: #0369a1;">
                                <div>æœˆé–“å–å¼•å›æ•°: 8-15å›</div>
                                <div>äºˆæƒ³å‹ç‡: 65-75%</div>
                                <div>ãƒªã‚¹ã‚¯/ãƒªã‚¿ãƒ¼ãƒ³: ãƒãƒ©ãƒ³ã‚¹å‹</div>
                            </div>
                        </div>
                        
                        <div style="margin-top: 20px;">
                            <input type="text" class="parameter-control" placeholder="æˆ¦ç•¥åã‚’å…¥åŠ›ï¼ˆä¾‹: ç§ã®åˆæˆ¦ç•¥ï¼‰" value="ãƒ“ãƒƒãƒˆã‚³ã‚¤ãƒ³ãƒ»ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆæˆ¦ç•¥" style="margin-bottom: 15px;">
                            
                            <label class="custom-checkbox">
                                <input type="checkbox" checked>
                                <span class="checkbox-custom"></span>
                                <span class="checkbox-label">åˆ©ç”¨è¦ç´„ã«åŒæ„ã™ã‚‹</span>
                            </label>
                            
                            <label class="custom-checkbox">
                                <input type="checkbox">
                                <span class="checkbox-custom"></span>
                                <span class="checkbox-label">æˆ¦ç•¥ã‚’ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«å…¬é–‹ã™ã‚‹</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
            <div class="wizard-navigation">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousStep()" style="display: none;">
                    â† å‰ã¸
                </button>
                <div style="flex: 1;"></div>
                <button class="btn btn-primary" id="nextBtn" onclick="nextStep()">
                    æ¬¡ã¸ â†’
                </button>
            </div>
        </div>
    </div>

    <!-- ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ -->
    <div class="toast" id="toast"></div>

    <script>
        let currentStep = 1;
        const totalSteps = 4;
        let selectedTemplate = null;

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            initializeTemplateSelection();
            initializeSliders();
        });

        // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã®åˆæœŸåŒ–
        function initializeTemplateSelection() {
            document.querySelectorAll('.template-card').forEach(card => {
                card.addEventListener('click', function() {
                    // å…¨ã¦ã®é¸æŠã‚’è§£é™¤
                    document.querySelectorAll('.template-card').forEach(c => c.classList.remove('selected'));
                    
                    // ç¾åœ¨ã®ã‚«ãƒ¼ãƒ‰ã‚’é¸æŠ
                    this.classList.add('selected');
                    selectedTemplate = this.dataset.template;
                    
                    // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 150);
                    
                    showToast('æˆ¦ç•¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠã—ã¾ã—ãŸï¼', 'success');
                    
                    // æ¬¡ã¸ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–
                    document.getElementById('nextBtn').disabled = false;
                });
            });
        }

        // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®åˆæœŸåŒ–
        function initializeSliders() {
            document.querySelectorAll('.slider').forEach(slider => {
                slider.addEventListener('input', function() {
                    const valueId = this.getAttribute('oninput').match(/'([^']+)'/)[1];
                    updateSliderValue(this, valueId);
                });
            });
        }

        // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼å€¤ã®æ›´æ–°
        function updateSliderValue(slider, valueId, suffix = '', prefix = '') {
            const valueSpan = document.getElementById(valueId);
            if (valueSpan) {
                valueSpan.textContent = prefix + slider.value + suffix;
            }
        }

        // æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã«é€²ã‚€
        function nextStep() {
            if (currentStep === 1 && !selectedTemplate) {
                showToast('æˆ¦ç•¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚', 'error');
                return;
            }
            
            if (currentStep < totalSteps) {
                // ç¾åœ¨ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«
                document.querySelector(`#step${currentStep}`).classList.remove('active');
                document.querySelector(`.step[data-step="${currentStep}"]`).classList.remove('active');
                document.querySelector(`.step[data-step="${currentStep}"]`).classList.add('completed');
                
                currentStep++;
                
                // æ–°ã—ã„ã‚¹ãƒ†ãƒƒãƒ—ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«
                document.querySelector(`#step${currentStep}`).classList.add('active');
                document.querySelector(`.step[data-step="${currentStep}"]`).classList.add('active');
                
                updateProgress();
                updateNavigation();
                
                // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ
                const activeStep = document.querySelector(`#step${currentStep}`);
                activeStep.style.opacity = '0';
                activeStep.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    activeStep.style.opacity = '1';
                    activeStep.style.transform = 'translateY(0)';
                }, 50);
                
                if (currentStep === totalSteps) {
                    document.getElementById('nextBtn').innerHTML = 'ğŸš€ æˆ¦ç•¥ã‚’ä¿å­˜ã—ã¦é–‹å§‹';
                    document.getElementById('nextBtn').onclick = saveStrategy;
                }
            }
        }

        // å‰ã®ã‚¹ãƒ†ãƒƒãƒ—ã«æˆ»ã‚‹
        function previousStep() {
            if (currentStep > 1) {
                // ç¾åœ¨ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«
                document.querySelector(`#step${currentStep}`).classList.remove('active');
                document.querySelector(`.step[data-step="${currentStep}"]`).classList.remove('active');
                
                currentStep--;
                
                // å‰ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«
                document.querySelector(`#step${currentStep}`).classList.add('active');
                document.querySelector(`.step[data-step="${currentStep}"]`).classList.add('active');
                document.querySelector(`.step[data-step="${currentStep}"]`).classList.remove('completed');
                
                updateProgress();
                updateNavigation();
                
                if (currentStep < totalSteps) {
                    document.getElementById('nextBtn').innerHTML = 'æ¬¡ã¸ â†’';
                    document.getElementById('nextBtn').onclick = nextStep;
                }
            }
        }

        // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®æ›´æ–°
        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `ã‚¹ãƒ†ãƒƒãƒ— ${currentStep} / ${totalSteps}`;
        }

        // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã®æ›´æ–°
        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            if (currentStep === 1) {
                prevBtn.style.display = 'none';
            } else {
                prevBtn.style.display = 'inline-flex';
            }
            
            if (currentStep === 1) {
                nextBtn.disabled = !selectedTemplate;
            } else {
                nextBtn.disabled = false;
            }
        }

        // æˆ¦ç•¥ä¿å­˜
        function saveStrategy() {
            const strategyName = document.querySelector('input[placeholder*="æˆ¦ç•¥å"]').value || 'ãƒ“ãƒƒãƒˆã‚³ã‚¤ãƒ³ãƒ»ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆæˆ¦ç•¥';
            
            // ä¿å­˜ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            const btn = document.getElementById('nextBtn');
            const originalText = btn.innerHTML;
            btn.innerHTML = 'ğŸ’¾ ä¿å­˜ä¸­...';
            btn.disabled = true;
            
            setTimeout(() => {
                btn.innerHTML = 'âœ… ä¿å­˜å®Œäº†!';
                btn.style.background = '#28a745';
                
                setTimeout(() => {
                    showToast('æˆ¦ç•¥ãŒæ­£å¸¸ã«ä¿å­˜ã•ã‚Œã¾ã—ãŸï¼å–å¼•ã‚’é–‹å§‹ã—ã¾ã™ã€‚', 'success');
                    
                    // ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º
                    console.log('ä¿å­˜ã•ã‚ŒãŸæˆ¦ç•¥:', {
                        name: strategyName,
                        template: selectedTemplate,
                        settings: {
                            currency: document.getElementById('cryptoCurrency').value,
                            sentimentThreshold: document.getElementById('sentimentThreshold').value,
                            investmentRatio: document.getElementById('investmentRatio').value,
                            stopLoss: document.getElementById('stopLoss').value,
                            takeProfit: document.getElementById('takeProfit').value
                        },
                        timestamp: new Date().toISOString()
                    });
                    
                    // 3ç§’å¾Œã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
                    setTimeout(() => {
                        if (confirm('æˆ¦ç•¥ãŒæ­£å¸¸ã«ä½œæˆã•ã‚Œã¾ã—ãŸï¼\n\næ¡ä»¶è¨­å®šç”»é¢ã§è©³ç´°ã‚’ç¢ºèªã—ã¾ã™ã‹ï¼Ÿ')) {
                            window.location.href = 'block-editor.html';
                        }
                    }, 2000);
                }, 1000);
            }, 2000);
        }

        // ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = `toast ${type}`;
            toast.style.display = 'block';
            
            setTimeout(() => {
                toast.style.display = 'none';
            }, 3000);
        }

        // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                if (currentStep < totalSteps) {
                    nextStep();
                } else {
                    saveStrategy();
                }
            } else if (e.key === 'Escape') {
                if (currentStep > 1) {
                    previousStep();
                }
            }
        });

        // ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã®ã‚¹ãƒ†ãƒƒãƒ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼èª¿æ•´
        window.addEventListener('resize', function() {
            const stepIndicator = document.querySelector('.step-indicator');
            if (window.innerWidth <= 768) {
                stepIndicator.style.justifyContent = 'flex-start';
                stepIndicator.style.overflowX = 'auto';
            } else {
                stepIndicator.style.justifyContent = 'center';
                stepIndicator.style.overflowX = 'visible';
            }
        });

        // åˆæœŸçŠ¶æ…‹ã§ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
        document.getElementById('nextBtn').disabled = true;
    </script>
</body>
</html>